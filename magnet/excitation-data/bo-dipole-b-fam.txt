# HEADER
# ======
# label             bo-dipole-b-fam
# harmonics         0  1  2  3  4  5  6
# main_harmonic     0 normal
# rescaling_factor  1.0
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5

# EXCITATION DATA
# ===============
-1061.73  +1.338720e+00 -0.000000e+00  -2.657900e+00 -0.000000e+00  -2.931900e+01 -0.000000e+00  +6.687300e+01 -0.000000e+00  -2.116020e+04 -0.000000e+00  -1.405320e+05 -0.000000e+00  +8.408600e+07 -0.000000e+00
-1041.21  +1.316301e+00 +0.000000e+00  -2.560283e+00 +0.000000e+00  -2.778241e+01 +0.000000e+00  +2.351189e+01 +0.000000e+00  -2.867182e+03 +0.000000e+00  -2.271612e+05 +0.000000e+00  -8.036717e+06 +0.000000e+00
-0991.63  +1.261190e+00 +0.000000e+00  -2.456254e+00 +0.000000e+00  -2.631840e+01 +0.000000e+00  -1.940158e+01 +0.000000e+00  -4.766358e+03 +0.000000e+00  -2.812730e+04 +0.000000e+00  +9.713411e+05 +0.000000e+00
-0942.05  +1.202470e+00 +0.000000e+00  -2.337617e+00 +0.000000e+00  -2.547248e+01 +0.000000e+00  -4.366916e+01 +0.000000e+00  -3.318554e+02 +0.000000e+00  +7.619883e+04 +0.000000e+00  -1.925975e+07 +0.000000e+00
-0800.00  +1.024720e+00 +0.000000e+00  -1.994256e+00 +0.000000e+00  -2.149809e+01 +0.000000e+00  -1.072640e+01 +0.000000e+00  -4.645167e+03 +0.000000e+00  -1.552827e+04 +0.000000e+00  +9.139240e+06 +0.000000e+00
-0720.00  +9.228600e-01 +0.000000e+00  -1.794662e+00 +0.000000e+00  -1.891068e+01 +0.000000e+00  -1.251299e+01 +0.000000e+00  -7.750601e+03 +0.000000e+00  -1.156983e+05 +0.000000e+00  +1.577209e+07 +0.000000e+00
-0680.00  +8.717900e-01 +0.000000e+00  -1.699062e+00 +0.000000e+00  -1.857720e+01 +0.000000e+00  -1.640488e+01 +0.000000e+00  +3.835430e+03 +0.000000e+00  -3.811489e+04 +0.000000e+00  -2.874715e+07 +0.000000e+00
-0640.00  +8.207000e-01 +0.000000e+00  -1.597389e+00 +0.000000e+00  -1.739609e+01 +0.000000e+00  -3.688759e+00 +0.000000e+00  -3.057326e+01 +0.000000e+00  -1.089614e+05 +0.000000e+00  -1.041233e+07 +0.000000e+00
-0500.00  +6.415300e-01 +0.000000e+00  -1.251681e+00 +0.000000e+00  -1.360763e+01 +0.000000e+00  -5.214932e+00 +0.000000e+00  +7.310088e+02 +0.000000e+00  -1.002954e+05 +0.000000e+00  -1.174935e+07 +0.000000e+00
-0330.54  +4.242300e-01 +0.000000e+00  -8.302640e-01 +0.000000e+00  -8.736615e+00 +0.000000e+00  -3.900680e+00 +0.000000e+00  -2.521899e+03 +0.000000e+00  -2.544178e+04 +0.000000e+00  +3.721001e+06 +0.000000e+00
-0165.27  +2.120800e-01 +0.000000e+00  -4.155560e-01 +0.000000e+00  -4.556367e+00 +0.000000e+00  -3.108438e+00 +0.000000e+00  +1.639872e+03 +0.000000e+00  -2.410521e+04 +0.000000e+00  -1.048009e+07 +0.000000e+00
-0060.46  +7.803200e-02 +0.000000e+00  -1.536750e-01 +0.000000e+00  -1.651945e+00 +0.000000e+00  +1.949946e-01 +0.000000e+00  -2.259990e+02 +0.000000e+00  -9.648348e+03 +0.000000e+00  -4.086291e+04 +0.000000e+00
-0050.39  +6.521300e-02 +0.000000e+00  -1.282188e-01 +0.000000e+00  -1.353847e+00 +0.000000e+00  -5.120259e+00 +0.000000e+00  -4.118206e+02 +0.000000e+00  +1.454698e+04 +0.000000e+00  +4.458721e+05 +0.000000e+00
-0040.31  +5.239600e-02 +0.000000e+00  -1.034773e-01 +0.000000e+00  -1.150934e+00 +0.000000e+00  +2.263151e+00 +0.000000e+00  +1.686384e+02 +0.000000e+00  -1.683879e+04 +0.000000e+00  -1.185111e+06 +0.000000e+00
+0040.31  -5.239600e-02 +0.000000e+00  +1.034773e-01 +0.000000e+00  +1.150934e+00 +0.000000e+00  -2.263151e+00 +0.000000e+00  -1.686384e+02 +0.000000e+00  +1.683879e+04 +0.000000e+00  +1.185111e+06 +0.000000e+00
+0050.39  -6.521300e-02 +0.000000e+00  +1.282188e-01 +0.000000e+00  +1.353847e+00 +0.000000e+00  +5.120259e+00 +0.000000e+00  +4.118206e+02 +0.000000e+00  -1.454698e+04 +0.000000e+00  -4.458721e+05 +0.000000e+00
+0060.46  -7.803200e-02 +0.000000e+00  +1.536750e-01 +0.000000e+00  +1.651945e+00 +0.000000e+00  -1.949946e-01 +0.000000e+00  +2.259990e+02 +0.000000e+00  +9.648348e+03 +0.000000e+00  +4.086291e+04 +0.000000e+00
+0165.27  -2.120800e-01 +0.000000e+00  +4.155560e-01 +0.000000e+00  +4.556367e+00 +0.000000e+00  +3.108438e+00 +0.000000e+00  -1.639872e+03 +0.000000e+00  +2.410521e+04 +0.000000e+00  +1.048009e+07 +0.000000e+00
+0330.54  -4.242300e-01 +0.000000e+00  +8.302640e-01 +0.000000e+00  +8.736615e+00 +0.000000e+00  +3.900680e+00 +0.000000e+00  +2.521899e+03 +0.000000e+00  +2.544178e+04 +0.000000e+00  -3.721001e+06 +0.000000e+00
+0500.00  -6.415300e-01 +0.000000e+00  +1.251681e+00 +0.000000e+00  +1.360763e+01 +0.000000e+00  +5.214932e+00 +0.000000e+00  -7.310088e+02 +0.000000e+00  +1.002954e+05 +0.000000e+00  +1.174935e+07 +0.000000e+00
+0640.00  -8.207000e-01 +0.000000e+00  +1.597389e+00 +0.000000e+00  +1.739609e+01 +0.000000e+00  +3.688759e+00 +0.000000e+00  +3.057326e+01 +0.000000e+00  +1.089614e+05 +0.000000e+00  +1.041233e+07 +0.000000e+00
+0680.00  -8.717900e-01 +0.000000e+00  +1.699062e+00 +0.000000e+00  +1.857720e+01 +0.000000e+00  +1.640488e+01 +0.000000e+00  -3.835430e+03 +0.000000e+00  +3.811489e+04 +0.000000e+00  +2.874715e+07 +0.000000e+00
+0720.00  -9.228600e-01 +0.000000e+00  +1.794662e+00 +0.000000e+00  +1.891068e+01 +0.000000e+00  +1.251299e+01 +0.000000e+00  +7.750601e+03 +0.000000e+00  +1.156983e+05 +0.000000e+00  -1.577209e+07 +0.000000e+00
+0800.00  -1.024720e+00 +0.000000e+00  +1.994256e+00 +0.000000e+00  +2.149809e+01 +0.000000e+00  +1.072640e+01 +0.000000e+00  +4.645167e+03 +0.000000e+00  +1.552827e+04 +0.000000e+00  -9.139240e+06 +0.000000e+00
+0942.05  -1.202470e+00 +0.000000e+00  +2.337617e+00 +0.000000e+00  +2.547248e+01 +0.000000e+00  +4.366916e+01 +0.000000e+00  +3.318554e+02 +0.000000e+00  -7.619883e+04 +0.000000e+00  +1.925975e+07 +0.000000e+00
+0991.63  -1.261190e+00 +0.000000e+00  +2.456254e+00 +0.000000e+00  +2.631840e+01 +0.000000e+00  +1.940158e+01 +0.000000e+00  +4.766358e+03 +0.000000e+00  +2.812730e+04 +0.000000e+00  -9.713411e+05 +0.000000e+00
+1041.21  -1.316301e+00 +0.000000e+00  +2.560283e+00 +0.000000e+00  +2.778241e+01 +0.000000e+00  -2.351189e+01 +0.000000e+00  +2.867182e+03 +0.000000e+00  +2.271612e+05 +0.000000e+00  +8.036717e+06 +0.000000e+00
+1061.73  -1.338720e+00 +0.000000e+00  +2.657900e+00 +0.000000e+00  +2.931900e+01 +0.000000e+00  -6.687300e+01 +0.000000e+00  +2.116020e+04 +0.000000e+00  +1.405320e+05 +0.000000e+00  -8.408600e+07 +0.000000e+00

# COMMENTS
# ========
# 1. generated automatically with "sirius_bo_create_excitation_files.m"
# 2. data taken from rotcoil measurements
# 3. average excitation curves for magnets:
#    BD-006
# 4. excdata was recalibrated using new bd-006 measurements.
#    relative difference between data sets:
#    curr = [40.31, 50.39, 60.46, 165.27,
#            330.54, 500, 640, 680,
#            720, 800, 942.05, 991.63]  # [A]
#    diff = [4.83812877666172, 4.06606558685071, 3.55526654545935, 2.06458443620964,
#            1.82416052612628, 1.8123819650537, 1.87690856277464, 1.9196371161018,
#            1.95207635965929, 2.02208261566492, 2.15963637908328, 2.20340356564018]  # [%]
#    a) diff x curr was extrapolated at 1041.21 A using a n=4 poly fit of last 6 points
#    b) at 1061.73, multipoles were taken from new measurements fieldmap analysis.

# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
