# HEADER
# ======
# label             bo-correctors-ch
# harmonics         0   1   2   3   4   5   6   7   8   9  10  11
# main_harmonic     0 normal
# rescaling_factor  1.0
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5  T/m^6 T/m^6  T/m^7 T/m^7  T/m^8 T/m^8  T/m^9 T/m^9  T/m^10 T/m^10

# EXCITATION DATA
# ===============
-0010.00  -3.435648e-03 -8.518360e-06  +2.611446e-04 +1.604697e-04  -2.725360e-02 +2.649075e-03  -1.570574e-01 -6.594983e-02  +8.177436e+01 -8.809774e-02  -1.383410e+03 -2.180143e+02  +4.940821e+05 -9.967084e+03  +4.762046e+05 +3.680938e+05  -1.304754e+07 -4.489514e+06  +4.515109e+09 +1.101730e+09  -6.886995e+11 -2.550084e+10  -3.243197e+12 +1.296679e+12
-0009.00  -3.093010e-03 -8.331913e-06  +2.712831e-04 +1.590458e-04  -2.591784e-02 +1.383232e-03  -1.482959e-01 -5.407466e-02  +7.172317e+01 -3.151383e+00  -1.271041e+03 -2.160121e+02  +4.472407e+05 -9.106439e+03  +4.197383e+04 +2.212846e+05  +1.364193e+07 +2.151985e+07  +3.280938e+09 -3.851989e+08  -6.032561e+11 +9.597313e+07  +1.561615e+12 +3.883717e+11
-0007.00  -2.416924e-03 -7.873417e-06  +2.850080e-04 +1.427798e-04  -2.061739e-02 +1.757931e-03  -1.311258e-01 -9.562053e-02  +5.716061e+01 -1.685099e+00  -9.677792e+02 -2.061339e+02  +3.514258e+05 -8.486559e+03  -5.548657e+04 +1.162747e+05  -1.201354e+06 +1.726100e+06  +3.240214e+09 -1.039232e+08  -5.022049e+11 -1.838791e+10  +4.131054e+11 +2.743925e+12
-0005.00  -1.738052e-03 -7.212428e-06  +2.961748e-04 +1.378055e-04  -1.598381e-02 +2.534298e-03  -1.066445e-01 -7.179783e-02  +4.048934e+01 -2.144938e+00  -6.688444e+02 -1.772314e+02  +2.504389e+05 -5.576040e+03  -6.750503e+04 +2.838256e+05  -2.884147e+06 +6.356018e+06  +2.132033e+09 -1.622151e+08  -3.196944e+11 -5.097233e+09  -8.749203e+11 +6.850806e+11
-0003.00  -1.057146e-03 -6.634467e-06  +3.129366e-04 +1.344085e-04  -1.119874e-02 +2.659138e-03  -8.757607e-02 -5.221414e-02  +2.456350e+01 -2.238628e+00  -3.883221e+02 -6.168050e+01  +1.538995e+05 -2.087639e+03  -1.942782e+04 +2.808352e+05  -3.828376e+06 +1.590732e+06  +1.242505e+09 +2.262845e+08  -1.984492e+11 -1.052311e+09  -2.664705e+10 +1.210486e+12
-0001.00  -3.745405e-04 -6.215556e-06  +3.355078e-04 +1.317925e-04  -6.344718e-03 +2.818424e-03  -6.386812e-02 -4.950873e-02  +8.875836e+00 -2.538716e+00  -1.067114e+02 -4.051285e+01  +5.582935e+04 +3.072596e+02  -2.509638e+03 +2.582568e+05  -4.890463e+06 -2.763510e+05  +5.186959e+08 +1.177912e+08  -6.353592e+10 -4.363874e+09  +2.288522e+10 +4.870096e+11
+0001.00  +3.504831e-04 -5.529017e-06  +3.445513e-04 +1.206919e-04  -5.959588e-04 +2.934910e-03  -4.449939e-02 -4.665491e-02  -8.337632e+00 -3.450869e+00  +2.049013e+02 +3.520550e+01  -4.797236e+04 +3.726153e+03  +3.128069e+04 +2.020087e+05  -7.414132e+06 -6.487781e+06  -3.354263e+08 -3.882438e+08  +7.012625e+10 +6.180752e+08  +5.053190e+11 +1.348676e+12
+0003.00  +1.029762e-03 -4.743233e-06  +3.533250e-04 +1.132106e-04  +4.147336e-03 +2.780102e-03  -2.875351e-02 -3.114719e-02  -2.371033e+01 -3.998830e+00  +4.809555e+02 +2.347340e+01  -1.448166e+05 +5.896687e+03  -8.321435e+04 +2.119431e+05  -1.409528e+07 -4.631693e+06  -1.124260e+09 -1.187492e+07  +1.980640e+11 +1.838810e+10  -6.469464e+10 +4.301062e+11
+0005.00  +1.711816e-03 -4.137345e-06  +3.607533e-04 +1.020505e-04  +9.234664e-03 +2.889125e-03  -1.643525e-02 -2.806469e-02  -3.910449e+01 -3.779294e+00  +7.561636e+02 +1.282554e+02  -2.366161e+05 +1.142679e+04  -2.229986e+05 +2.198772e+05  -6.207661e+05 -6.581154e+06  -1.312462e+09 -4.635441e+08  +3.504967e+11 -1.690890e+10  +2.295984e+12 +6.457249e+11
+0007.00  +2.395991e-03 -3.459411e-06  +3.755069e-04 +9.760626e-05  +1.425445e-02 +2.918372e-03  +1.231142e-02 -2.416897e-02  -5.543029e+01 -4.066428e+00  +1.127033e+03 +7.552136e+01  -3.412846e+05 +1.219232e+04  +4.995535e+03 +5.861833e+04  -7.057144e+06 -1.275978e+07  -2.747642e+09 -4.898137e+08  +5.042012e+11 -3.147654e+10  +1.177312e+12 +1.032134e+12
+0009.00  +3.082139e-03 -2.931469e-06  +3.858852e-04 +8.439012e-05  +1.938761e-02 +3.515896e-03  +4.006723e-02 -1.114858e-02  -7.092621e+01 -3.890149e+00  +1.418577e+03 +2.020805e+02  -4.350859e+05 +1.624278e+04  -2.115585e+04 +7.123564e+04  -9.926385e+06 +5.762535e+06  -3.610593e+09 -3.249838e+08  +6.022592e+11 +5.668464e+10  +3.328941e+12 +1.316262e+12
+0010.00  +3.433895e-03 -2.720469e-06  +3.926211e-04 +7.565463e-05  +2.216748e-02 +3.097669e-03  +6.974794e-02 -1.854459e-02  -7.925128e+01 -6.458450e+00  +1.488449e+03 +2.203832e+02  -4.903611e+05 +1.444873e+04  -3.399127e+05 +3.378527e+05  -3.176234e+07 -1.285452e+07  -3.753277e+09 +4.773360e+08  +6.385895e+11 -8.361229e+09  +8.701485e+11 -4.689304e+09

# COMMENTS
# ========
# 1. generated automatically with "sirius_bo_create_excitation_file.m"
# 2. data taken from rotcoil measurements
# 3. average excitation curves for magnets:
#    BC-022 BC-021 BC-020 BC-037 BC-036 BC-040 BC-035 BC-034 BC-033 BC-039
#    BC-013 BC-010 BC-016 BC-009 BC-012 BC-053 BC-054 BC-055 BC-049 BC-050
#    BC-051 BC-056 BC-052 BC-017 BC-023
# 4. after recalibration a new hysteris curve was measured for BC-008 and compared with previous measurement
#    (for positive branch of the curve).
#    a. poly n=5 fit of 2015 data
#    b. poly n=4 fit of 2021 data
#    c. using polyfitted data, calculate difference
#       Current   :  [1.0, 3.0, 5.0, 7.0, 9.0, 10.0] [A]]
#       Difference:  [4.76344358 1.93756003 1.34153574 1.07382013 0.92293245 1.09655034] [%]
#    d. interpolate diff x current table to correct previous excdata which is based on magnet averages.
# 5. negative current branch of excdata was corrected using the same diff x curr interpolation.
#    (assuming current inversion symmetry)

# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
