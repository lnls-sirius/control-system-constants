# HEADER
# ======
# label             si-sextupole-s15-sdp1-fam
# harmonics         0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
# main_harmonic     2 normal
# rescaling factor  1.003630
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5  T/m^6 T/m^6  T/m^7 T/m^7  T/m^8 T/m^8  T/m^9 T/m^9  T/m^10 T/m^10  T/m^11 T/m^11  T/m^12 T/m^12  T/m^13 T/m^13

# EXCITATION DATA
# ===============
+000.0000 +7.3218e-06 +2.4909e-06  +1.3656e-04 +1.5248e-04  -2.3780e+00 -3.7316e-03  +2.9183e-01 -8.2388e-02  +1.6556e+01 +2.6480e+00  -1.0276e+01 +4.3200e+02  +1.3942e+04 -2.8626e+04  -6.5009e+05 +1.7316e+06  -6.8626e+08 +2.6065e+07  -1.8928e+10 -4.8200e+08  +3.9539e+11 +1.0646e+12  +2.1634e+13 -1.0777e+14  +6.8128e+15 +3.4536e+15  +3.9405e+17 +2.5622e+17  -2.9511e+20 -5.8939e+18
+001.9952 +7.2655e-06 +2.5939e-06  +2.4505e-04 +3.5085e-04  -6.5287e+00 -7.8438e-03  +1.7129e-01 -1.0376e-01  +6.9723e+00 +8.2645e-01  +1.6828e+02 +4.3011e+02  -1.1337e+04 -1.1638e+04  -6.0942e+05 +7.8957e+05  +2.1843e+09 -9.7239e+07  -7.8965e+09 -1.9169e+09  +4.2142e+09 +7.9601e+11  +2.8578e+13 -2.8781e+13  +3.9279e+15 +4.9154e+14  +3.8445e+17 +3.4914e+17  -8.9290e+20 +1.0573e+18
+003.9981 +7.2089e-06 +2.6974e-06  +3.5395e-04 +5.4998e-04  -1.0695e+01 -1.1972e-02  +5.0294e-02 -1.2521e-01  -2.6481e+00 -1.0020e+00  +3.4751e+02 +4.2821e+02  -3.6712e+04 +5.4140e+03  -5.6859e+05 -1.5603e+05  +5.0658e+09 -2.2101e+08  +3.1769e+09 -3.3573e+09  -3.8845e+11 +5.2637e+11  +3.5548e+13 +5.0505e+13  +1.0320e+15 -2.4818e+15  +3.7481e+17 +4.4241e+17  -1.4930e+21 +8.0350e+18
+005.9971 +7.2369e-06 +2.6921e-06  +4.6130e-04 +7.5098e-04  -1.4908e+01 -1.6454e-02  -6.4672e-02 -1.5511e-01  -1.2041e+01 -1.9308e+00  +3.3694e+02 +2.6484e+02  -5.2628e+04 +8.4624e+02  -1.0683e+06 -5.5217e+05  +8.1670e+09 -3.4482e+08  -6.1487e+08 -3.8305e+09  -3.7030e+11 +3.4193e+11  +3.3245e+13 +5.0595e+13  +3.4555e+15 -3.7032e+15  +5.9818e+17 +6.8208e+17  -2.1180e+21 -4.7036e+18
+007.9962 +7.3111e-06 +2.7647e-06  +5.7372e-04 +9.5278e-04  -1.9161e+01 -2.0841e-02  -1.6383e-01 -1.8088e-01  -2.1956e+01 -2.3679e+00  +4.6706e+02 +3.9344e+02  -7.2098e+04 +9.9031e+03  -1.8406e+06 -1.1499e+06  +1.1186e+10 -4.4686e+08  +3.1287e+09 -9.0043e+09  -2.6131e+11 +5.3974e+11  +7.5086e+12 +6.4014e+13  +4.3335e+15 -1.6464e+15  +5.8146e+17 +8.7024e+17  -2.7648e+21 -1.2641e+19
+009.9962 +7.3827e-06 +2.8636e-06  +6.8302e-04 +1.1596e-03  -2.3451e+01 -2.5339e-02  -2.7414e-01 -2.1260e-01  -3.0968e+01 -2.4630e+00  +4.7312e+02 +1.3843e+02  -8.9830e+04 +8.2264e+03  -2.1007e+06 -1.0352e+06  +1.4145e+10 -5.5555e+08  +2.5786e+09 -8.3621e+09  -1.2784e+11 +6.4466e+11  +3.0963e+13 +5.7181e+13  +4.7967e+15 -3.1143e+15  +8.2799e+17 +8.4369e+17  -3.3709e+21 -2.0712e+19
+029.9959 +7.8048e-06 +3.3265e-06  +1.8622e-03 +3.2512e-03  -6.7592e+01 -6.9130e-02  -1.2913e+00 -4.7251e-01  -1.2477e+02 -5.5111e+00  +1.2383e+03 +6.0132e+02  -2.9167e+05 +3.4866e+04  -5.6979e+06 -5.5083e+06  +4.3931e+10 -1.5111e+09  +8.1469e+09 -1.0598e+10  +3.8117e+11 +1.2644e+12  +3.4826e+13 +2.6590e+13  +1.6613e+16 -1.2745e+16  +1.7651e+18 +3.1501e+18  -9.8583e+21 -3.3188e+19
+049.9948 +9.0032e-06 +3.9828e-06  +3.0977e-03 +5.3854e-03  -1.1269e+02 -1.0880e-01  -2.2106e+00 -7.5982e-01  -2.1523e+02 -1.0729e+01  +2.0407e+03 +1.0384e+03  -4.9116e+05 +7.2291e+04  -8.8673e+06 -8.5939e+06  +7.2505e+10 -3.9494e+09  -2.6163e+08 -1.1656e+10  +1.0596e+12 +2.8124e+12  -4.7489e+12 +1.2004e+13  +2.8428e+16 -2.2251e+16  +3.3117e+18 +5.3543e+18  -1.6544e+22 +1.0602e+20
+069.9954 +1.1165e-05 +4.7096e-06  +4.3334e-03 +7.5185e-03  -1.5793e+02 -1.4020e-01  -3.1719e+00 -1.0541e+00  -2.9601e+02 -2.1568e+01  +2.9375e+03 +1.3730e+03  -6.7249e+05 +1.1791e+05  -1.3001e+07 -1.2823e+07  +1.0157e+11 -8.1104e+09  +5.1854e+09 -3.4401e+10  +9.2801e+11 +3.8580e+12  +2.2117e+13 -3.8448e+13  +3.7049e+16 -3.2941e+16  +4.5757e+18 +7.5974e+18  -2.3378e+22 +2.3167e+20
+089.9986 +1.4715e-05 +5.4781e-06  +5.5526e-03 +9.6144e-03  -2.0295e+02 -1.6804e-01  -4.0544e+00 -1.2820e+00  -3.5773e+02 -2.4496e+01  +3.7491e+03 +1.9622e+03  -8.8101e+05 +1.7144e+05  -1.7934e+07 -1.6544e+07  +1.3103e+11 -1.1880e+10  +1.3152e+09 -2.9629e+10  +2.0728e+12 +2.7236e+12  +4.8165e+13 -1.2482e+14  +4.5940e+16 -4.7863e+16  +5.2209e+18 +9.3465e+18  -3.0203e+22 +1.3693e+20
+109.9965 +1.9668e-05 +6.1622e-06  +6.7312e-03 +1.1621e-02  -2.4725e+02 -1.8982e-01  -5.0138e+00 -1.3415e+00  -3.9687e+02 -3.3552e+01  +4.2262e+03 +2.6893e+03  -1.0711e+06 +2.5054e+05  -2.4420e+07 -1.7854e+07  +1.6029e+11 -1.6764e+10  +1.8749e+09 -4.8213e+10  +2.7980e+11 +4.1425e+12  +2.1764e+14 -2.1952e+14  +7.4991e+16 -5.3738e+16  +7.1561e+18 +9.6715e+18  -3.6880e+22 -2.4886e+19
+129.9962 +2.5255e-05 +7.0204e-06  +7.8181e-03 +1.3525e-02  -2.9034e+02 -2.0661e-01  -5.9913e+00 -1.1761e+00  -4.2847e+02 -5.6718e+01  +4.9586e+03 +2.7420e+03  -1.2245e+06 +2.7484e+05  -3.1494e+07 -2.6676e+07  +1.8913e+11 -2.2238e+10  -2.4655e+10 -6.7290e+10  +4.9790e+11 +6.1934e+12  +2.3387e+14 -3.0562e+11  +6.9981e+16 -4.5464e+16  +9.0569e+18 +1.2159e+19  -4.3526e+22 -4.3335e+19
+149.9974 +3.1719e-05 +8.1683e-06  +8.9069e-03 +1.5166e-02  -3.3072e+02 -2.1891e-01  -6.6673e+00 -5.5883e-01  -4.3937e+02 -6.6337e+01  +6.0393e+03 +3.7719e+03  -1.3485e+06 +2.9341e+05  -3.8330e+07 -2.6321e+07  +2.1658e+11 -2.6500e+10  -9.4125e+09 -9.9105e+10  -2.9586e+11 +9.0469e+12  +2.6200e+14 -1.6552e+14  +7.0783e+16 -4.3716e+16  +1.1765e+19 +1.3975e+19  -4.9516e+22 -5.7158e+20
+167.7979 +3.4814e-05 +9.5148e-06  +9.8976e-03 +1.6232e-02  -3.5991e+02 -2.2208e-01  -6.3994e+00 +4.5861e-01  -4.6990e+02 -9.6664e+01  +5.9323e+03 +2.8514e+03  -1.4333e+06 +4.5350e+05  -4.0685e+07 -3.6632e+07  +2.3772e+11 -3.1480e+10  -2.7954e+09 -1.0334e+11  -6.3564e+11 +1.4295e+13  +1.9723e+14 +2.0759e+14  +9.4331e+16 -6.8549e+16  +1.1382e+19 +1.3717e+19  -5.4276e+22 -8.1831e+20
+180.0000 +3.5488e-05 +1.0615e-05  +1.0589e-02 +1.6748e-02  -3.7625e+02 -2.2002e-01  -5.7428e+00 +1.4107e+00  -5.0217e+02 -1.2930e+02  +5.2773e+03 +1.2210e+03  -1.4776e+06 +6.4137e+05  -4.0271e+07 -4.9482e+07  +2.5043e+11 -3.5538e+10  -2.0398e+09 -9.3150e+10  -6.6909e+11 +1.9366e+13  +1.0397e+14 +7.4635e+14  +1.2290e+17 -9.9929e+16  +9.5999e+18 +1.2522e+19  -5.7228e+22 -8.6591e+20

# COMMENTS
# ========
# 1. generated automatically with "excdata.py"
# 2. data taken from rotcoil measurements
# 3. data for zero current is extrapolated from data points with lowest measured currents
# 4. average excitation curves for magnets:
#    S15-092 S15-017 S15-175 S15-271 S15-020 S15-050 S15-109 S15-012 S15-155 S15-227
# 5. last data point was extrapolated from a quadratic fitting using last 3 points.
# 6. rescaling factor based on new measurements compared to previous ones
#    === S15 ===
#    Family          Current[A] GL2020[T/m] GL2019[T/m] Diff[%]
#    SI-Fam:PS-SFA0   034.98     -79.16832   -78.79904  +0.469
#    SI-Fam:PS-SFB0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFP0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFA2   100.28    -226.93267  -226.12582  +0.357
#    SI-Fam:PS-SFA1   128.48    -288.11642  -287.21829  +0.313
#    SI-Fam:PS-SFB2   132.81    -297.45731  -296.61973  +0.282
#    SI-Fam:PS-SFP2   133.33    -298.58556  -297.76223  +0.277
#    SI-Fam:PS-SFB1   155.22    -344.48435  -351.10163  -1.885
#    SI-Fam:PS-SFP1   156.53    -346.61199  -354.72640  -2.288
#    SI-Fam:PS-SDB0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDP0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDA0   053.72    -121.71106  -121.21016  +0.413
#    SI-Fam:PS-SDA2   059.29    -134.38117  -133.83979  +0.404
#    SI-Fam:PS-SDB2   081.57    -184.93776  -184.24588  +0.376
#    SI-Fam:PS-SDP2   081.55    -184.89068  -184.19894  +0.376
#    SI-Fam:PS-SDA3   093.40    -211.57649  -210.80689  +0.365
#    SI-Fam:PS-SDB1   094.58    -214.22775  -213.45115  +0.364
#    SI-Fam:PS-SDP1   095.00    -215.17967  -214.40061  +0.363
#    SI-Fam:PS-SDA1   109.04    -246.21948  -245.37664  +0.343
#    SI-Fam:PS-SDB3   116.56    -262.52284  -261.65091  +0.333
#    SI-Fam:PS-SDP3   116.79    -263.03286  -262.15994  +0.333

# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
