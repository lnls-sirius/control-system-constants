# HEADER
# ======
# label             si-sextupole-s15-sfb2-fam
# harmonics         0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
# main_harmonic     2 normal
# rescaling factor  1.00282
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5  T/m^6 T/m^6  T/m^7 T/m^7  T/m^8 T/m^8  T/m^9 T/m^9  T/m^10 T/m^10  T/m^11 T/m^11  T/m^12 T/m^12  T/m^13 T/m^13

# EXCITATION DATA
# ===============
+000.0000 +6.5228e-06 +1.9392e-06  -1.0384e-05 +2.0184e-04  -2.3527e+00 -4.0985e-04  -3.1999e-01 -3.2037e-01  +7.7087e+00 +1.9936e+00  +2.4816e+01 +2.3918e+02  +5.8290e+03 -1.4983e+04  -9.5806e+05 +1.6532e+06  -6.5607e+08 -2.4636e+08  +1.6026e+09 +7.3934e+09  -1.7327e+11 +7.0195e+11  +2.1718e+13 -9.4974e+13  +4.0252e+15 -1.0382e+15  -3.0879e+17 +3.1550e+17  -3.2706e+20 +1.3771e+19
+001.9955 +6.4940e-06 +1.9267e-06  +1.3586e-04 +4.2756e-04  -6.5008e+00 -3.7786e-04  -2.9161e-01 -3.2324e-01  +1.3894e-01 -9.7700e-01  +7.9130e+01 +3.5992e+02  -1.4469e+04 -4.0195e+03  -9.2578e+05 +7.6603e+05  +2.0537e+09 -6.3673e+08  +9.7137e+08 +3.7281e+09  -1.5632e+11 +4.5498e+11  +2.1884e+13 -4.3380e+13  +3.3123e+15 -3.0859e+14  +7.2459e+16 +4.5056e+17  -8.7661e+20 +7.6147e+19
+003.9981 +6.4651e-06 +1.9141e-06  +2.8262e-04 +6.5409e-04  -1.0664e+01 -3.4576e-04  -2.6313e-01 -3.2611e-01  -7.4580e+00 -3.9583e+00  +1.3364e+02 +4.8110e+02  -3.4841e+04 +6.9834e+03  -8.9339e+05 -1.2428e+05  +4.7732e+09 -1.0285e+09  +3.3785e+08 +4.9527e+07  -1.3931e+11 +2.0711e+11  +2.2050e+13 +8.4005e+12  +2.5969e+15 +4.2366e+14  +4.5508e+17 +5.8611e+17  -1.4281e+21 +1.3875e+20
+005.9973 +6.4807e-06 +1.9337e-06  +4.2820e-04 +8.7821e-04  -1.4874e+01 -2.1166e-04  -2.3447e-01 -3.2138e-01  -1.5259e+01 -6.7994e+00  +1.6855e+02 +3.7068e+02  -5.6295e+04 +1.0238e+04  -8.9572e+05 -8.3902e+05  +7.7326e+09 -1.4134e+09  +5.5133e+08 +4.8548e+08  -1.4237e+11 +2.7130e+11  +1.7559e+13 +3.9183e+13  +3.9372e+15 -1.2998e+15  +5.4656e+17 +6.2044e+17  -2.0276e+21 +1.9693e+20
+007.9962 +6.5530e-06 +1.8935e-06  +5.7453e-04 +1.1071e-03  -1.9124e+01 -3.3742e-05  -2.1016e-01 -3.2193e-01  -2.3135e+01 -9.3774e+00  +1.4092e+02 +5.0787e+02  -7.8633e+04 +1.1966e+04  -1.1303e+06 -1.7700e+06  +1.0611e+10 -1.8200e+09  +8.2828e+08 +3.9485e+08  +9.1203e+10 +4.2789e+11  +9.6255e+12 +1.4789e+13  +4.7900e+15 -2.5428e+15  +6.3720e+17 +8.4149e+17  -2.6401e+21 +2.4690e+20
+009.9962 +6.5520e-06 +1.9018e-06  +7.2190e-04 +1.3370e-03  -2.3411e+01 +7.9362e-05  -1.9025e-01 -3.1147e-01  -3.2264e+01 -1.2643e+01  +2.2299e+02 +2.6454e+02  -9.5666e+04 +1.8765e+04  -1.3022e+06 -2.3890e+06  +1.3436e+10 -2.2188e+09  +1.3903e+09 +3.9008e+09  -1.2057e+11 +2.6555e+11  +1.4177e+13 +5.3458e+13  +6.4093e+15 -3.6238e+15  +9.4355e+17 +1.1693e+18  -3.2342e+21 +3.0635e+20
+029.9961 +6.8456e-06 +1.9847e-06  +2.2085e-03 +3.7361e-03  -6.7522e+01 +2.7938e-03  -9.2792e-02 -3.9137e-01  -1.1486e+02 -4.3333e+01  +6.6198e+02 +7.8263e+02  -3.0613e+05 +7.8142e+04  -3.2471e+06 -8.6569e+06  +4.1802e+10 -6.5353e+09  +5.3312e+09 +3.9264e+08  +2.9704e+11 +2.7895e+11  +2.9939e+12 +1.6591e+13  +2.0402e+16 -5.4703e+15  +2.2963e+18 +3.1600e+18  -9.4328e+21 +8.5917e+20
+049.9946 +7.5627e-06 +2.0748e-06  +3.6922e-03 +6.2341e-03  -1.1258e+02 +9.4497e-03  -1.4098e-01 -6.7708e-01  -1.9674e+02 -7.3057e+01  +1.1455e+03 +1.0888e+03  -5.1500e+05 +1.3106e+05  -5.1574e+06 -1.4534e+07  +6.8816e+10 -1.1734e+10  +9.3127e+09 +7.1594e+09  +5.1835e+11 +6.9846e+11  +1.0800e+13 -1.9326e+13  +3.4186e+16 -1.2855e+16  +3.7195e+18 +5.1666e+18  -1.5720e+22 +1.6140e+21
+069.9954 +8.6119e-06 +2.1923e-06  +5.1364e-03 +8.7595e-03  -1.5778e+02 +1.9191e-02  -3.5403e-01 -1.0875e+00  -2.7589e+02 -1.0289e+02  +1.7495e+03 +1.3862e+03  -7.2269e+05 +2.0397e+05  -9.5930e+06 -2.1217e+07  +9.6261e+10 -1.7473e+10  +6.3949e+09 +9.1142e+09  +3.0435e+11 +6.9993e+11  +6.7835e+11 -3.3530e+13  +4.8457e+16 -2.0668e+16  +5.5026e+18 +6.9413e+18  -2.2140e+22 +2.3010e+21
+089.9984 +1.0248e-05 +2.4352e-06  +6.5031e-03 +1.1284e-02  -2.0279e+02 +3.3294e-02  -7.4975e-01 -1.5861e+00  -3.5361e+02 -1.3210e+02  +1.9315e+03 +1.6429e+03  -9.3183e+05 +2.6840e+05  -1.1885e+07 -2.6912e+07  +1.2419e+11 -2.3921e+10  +2.0947e+10 +3.2656e+10  +1.5365e+11 +5.8190e+11  +3.8123e+13 +9.4706e+11  +5.0094e+16 -2.3191e+16  +6.6979e+18 +8.8865e+18  -2.8701e+22 +2.8306e+21
+109.9964 +1.2282e-05 +2.8826e-06  +7.7865e-03 +1.3759e-02  -2.4710e+02 +4.9876e-02  -1.2685e+00 -2.1269e+00  -4.2402e+02 -1.6746e+02  +2.2937e+03 +1.9654e+03  -1.1168e+06 +2.9590e+05  -1.6583e+07 -3.0798e+07  +1.5229e+11 -3.0592e+10  +1.7345e+10 +3.5678e+10  -1.9787e+12 +1.1710e+12  +8.7875e+13 -9.4253e+13  +6.4907e+16 -2.3671e+16  +8.3921e+18 +1.0902e+19  -3.5289e+22 +3.3604e+21
+129.9962 +1.4495e-05 +3.4267e-06  +8.9788e-03 +1.6151e-02  -2.9021e+02 +7.0334e-02  -1.8889e+00 -2.5838e+00  -4.9154e+02 -1.9822e+02  +2.8623e+03 +2.4433e+03  -1.3242e+06 +3.5809e+05  -2.1072e+07 -3.5284e+07  +1.8008e+11 -3.7224e+10  +3.9643e+10 +3.9131e+10  -7.9663e+11 +2.8035e+12  +1.4311e+14 +1.5884e+13  +7.3723e+16 -3.1910e+16  +1.0209e+19 +1.2910e+19  -4.1466e+22 +3.6255e+21
+149.9977 +1.7500e-05 +3.6131e-06  +1.0003e-02 +1.8416e-02  -3.3060e+02 +9.0802e-02  -2.8296e+00 -3.2071e+00  -5.4524e+02 -2.2126e+02  +2.9622e+03 +2.8807e+03  -1.5415e+06 +4.0861e+05  -2.4717e+07 -4.2214e+07  +2.0622e+11 -4.4747e+10  +3.8195e+10 +3.6622e+10  -2.6029e+12 +1.6259e+12  -5.3142e+13 -1.2839e+14  +9.4009e+16 -4.4633e+16  +1.1628e+19 +1.4259e+19  -4.7312e+22 +4.1706e+21
+167.7982 +2.2638e-05 +2.6299e-06  +1.0794e-02 +2.0179e-02  -3.5983e+02 +1.0839e-01  -3.3227e+00 -4.0766e+00  -5.4668e+02 -2.2389e+02  +3.2075e+03 +2.9940e+03  -1.6347e+06 +4.6335e+05  -2.6724e+07 -4.4115e+07  +2.2470e+11 -5.0188e+10  +2.3636e+10 +2.5706e+10  -2.4385e+12 +3.3957e+12  +2.0436e+13 -7.1571e+13  +1.2069e+17 -4.1932e+16  +1.2344e+19 +1.5726e+19  -5.1584e+22 +4.4188e+21
+180.0000 +2.7499e-05 +1.3308e-06  +1.1271e-02 +2.1249e-02  -3.7620e+02 +1.2010e-01  -3.4735e+00 -4.8438e+00  -5.2244e+02 -2.1597e+02  +3.4606e+03 +2.9216e+03  -1.6439e+06 +5.0620e+05  -2.7428e+07 -4.3096e+07  +2.3477e+11 -5.3234e+10  +6.4350e+09 +1.3500e+10  -1.3619e+12 +6.1419e+12  +2.0592e+14 +6.8137e+13  +1.4367e+17 -3.2452e+16  +1.2536e+19 +1.6876e+19  -5.4005e+22 +4.4600e+21

# COMMENTS
# ========
# 1. generated automatically with "excdata.py"
# 2. data taken from rotcoil measurements
# 3. data for zero current is extrapolated from data points with lowest measured currents
# 4. average excitation curves for magnets:
#    S15-121 S15-190 S15-192 S15-087 S15-210 S15-231 S15-158 S15-115 S15-008 S15-160
#    S15-019 S15-267 S15-078 S15-030 S15-090 S15-116 S15-018 S15-097 S15-179 S15-185
# 5. last data point was extrapolated from a quadratic fitting using last 3 points.
# 6. rescaling factor based on new measurements compared to previous ones
#    === S15 ===
#    Family          Current[A] GL2020[T/m] GL2019[T/m] Diff[%]
#    SI-Fam:PS-SFA0   034.98     -79.16832   -78.79904  +0.469
#    SI-Fam:PS-SFB0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFP0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFA2   100.28    -226.93267  -226.12582  +0.357
#    SI-Fam:PS-SFA1   128.48    -288.11642  -287.21829  +0.313
#    SI-Fam:PS-SFB2   132.81    -297.45731  -296.61973  +0.282
#    SI-Fam:PS-SFP2   133.33    -298.58556  -297.76223  +0.277
#    SI-Fam:PS-SFB1   155.22    -344.48435  -351.10163  -1.885
#    SI-Fam:PS-SFP1   156.53    -346.61199  -354.72640  -2.288
#    SI-Fam:PS-SDB0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDP0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDA0   053.72    -121.71106  -121.21016  +0.413
#    SI-Fam:PS-SDA2   059.29    -134.38117  -133.83979  +0.404
#    SI-Fam:PS-SDB2   081.57    -184.93776  -184.24588  +0.376
#    SI-Fam:PS-SDP2   081.55    -184.89068  -184.19894  +0.376
#    SI-Fam:PS-SDA3   093.40    -211.57649  -210.80689  +0.365
#    SI-Fam:PS-SDB1   094.58    -214.22775  -213.45115  +0.364
#    SI-Fam:PS-SDP1   095.00    -215.17967  -214.40061  +0.363
#    SI-Fam:PS-SDA1   109.04    -246.21948  -245.37664  +0.343
#    SI-Fam:PS-SDB3   116.56    -262.52284  -261.65091  +0.333
#    SI-Fam:PS-SDP3   116.79    -263.03286  -262.15994  +0.333

# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
