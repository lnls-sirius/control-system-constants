# HEADER
# ======
# label             si-sextupole-s15-sfa0-fam
# harmonics         0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
# main_harmonic     2 normal
# rescaling_factor  1.00373
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5  T/m^6 T/m^6  T/m^7 T/m^7  T/m^8 T/m^8  T/m^9 T/m^9  T/m^10 T/m^10  T/m^11 T/m^11  T/m^12 T/m^12  T/m^13 T/m^13

# EXCITATION DATA
# ===============
+000.0000 +6.6400e-06 +1.7425e-06  +1.4829e-05 +1.6239e-04  -2.2898e+00 -2.2084e-03  -1.7637e-01 -2.4016e-01  +3.0519e+00 +1.1544e+01  +1.4491e+02 +1.1583e+02  -1.4996e+04 -7.2569e+03  -7.2895e+05 -3.8326e+05  -6.4357e+08 -1.3524e+08  +5.5266e+09 -4.3686e+09  -4.8265e+11 -2.2823e+11  +3.9974e+13 -1.3624e+14  -2.3727e+15 -3.9696e+15  +9.1611e+16 +1.6200e+17  -3.4224e+20 -2.6755e+19
+001.9953 +6.7892e-06 +1.7319e-06  +1.5352e-04 +3.4608e-04  -6.4556e+00 -4.3352e-03  -2.1698e-01 -2.1995e-01  -4.7263e+00 +1.2997e+01  +8.8244e+01 +2.5153e+02  -2.8332e+04 -1.0441e+04  -1.0213e+06 -1.0180e+05  +2.1777e+09 -2.0673e+08  +3.9462e+09 -5.8050e+09  -2.9464e+11 +1.1840e+10  +2.9318e+13 -6.5255e+13  +2.4663e+13 -3.5944e+15  +1.7698e+17 +3.9522e+17  -9.1429e+20 -5.6350e+18
+003.9979 +6.9389e-06 +1.7213e-06  +2.9272e-04 +5.3045e-04  -1.0637e+01 -6.4698e-03  -2.5773e-01 -1.9967e-01  -1.2533e+01 +1.4455e+01  +3.1371e+01 +3.8773e+02  -4.1716e+04 -1.3637e+04  -1.3148e+06 +1.8069e+05  +5.0093e+09 -2.7849e+08  +2.3600e+09 -7.2466e+09  -1.0593e+11 +2.5279e+11  +1.8622e+13 +5.9910e+12  +2.4308e+15 -3.2179e+15  +2.6265e+17 +6.2930e+17  -1.4884e+21 +1.5562e+19
+005.9971 +7.1524e-06 +1.6268e-06  +4.2815e-04 +7.1704e-04  -1.4863e+01 -8.5819e-03  -3.0003e-01 -2.0220e-01  -1.9104e+01 +1.6382e+01  -5.5200e+01 +1.8676e+02  -5.9850e+04 -1.7162e+04  -1.4183e+06 -6.2407e+05  +8.1206e+09 -4.0300e+08  +1.8469e+09 -5.3440e+09  +3.8264e+10 +2.3324e+11  +4.0103e+13 +5.8961e+13  +2.8750e+15 -4.5673e+15  +4.2602e+17 +8.1363e+17  -2.1147e+21 +1.8730e+19
+007.9960 +7.3236e-06 +1.5448e-06  +5.6447e-04 +9.0426e-04  -1.9128e+01 -1.0845e-02  -3.6654e-01 -2.0145e-01  -2.6496e+01 +1.8101e+01  -4.7898e+01 +3.1208e+02  -7.9126e+04 -1.0304e+04  -1.7175e+06 -1.2916e+06  +1.1100e+10 -4.8271e+08  +2.2876e+08 -4.4876e+09  -6.1204e+10 +1.3627e+11  +9.5992e+12 +3.5674e+13  +3.1169e+15 -4.9412e+15  +4.7929e+17 +8.3174e+17  -2.7634e+21 +2.6676e+19
+009.9961 +7.4680e-06 +1.4715e-06  +7.0025e-04 +1.0904e-03  -2.3429e+01 -1.3071e-02  -4.1538e-01 -2.1340e-01  -3.4672e+01 +2.0213e+01  -9.0538e+01 +5.6758e+01  -8.7519e+04 -1.0475e+04  -2.1213e+06 -2.0034e+06  +1.4036e+10 -6.3513e+08  +1.8614e+09 -5.4284e+09  -1.5840e+11 +5.6657e+11  +4.9084e+13 +6.0327e+13  +5.6841e+15 -5.2099e+15  +6.3184e+17 +1.0879e+18  -3.3709e+21 +4.2327e+19
+029.9958 +8.7884e-06 +7.1019e-07  +2.0738e-03 +3.0609e-03  -6.7654e+01 -3.5046e-02  -1.1522e+00 -3.0813e-01  -1.1870e+02 +4.2944e+01  -4.0101e+02 +2.8896e+02  -2.6860e+05 -2.4765e+04  -5.0431e+06 -5.8022e+06  +4.3771e+10 -1.7529e+09  +2.2181e+09 -7.8619e+09  +6.6312e+11 +8.3311e+11  +1.2894e+13 +7.2668e+12  +1.4636e+16 -1.6380e+16  +1.8412e+18 +3.0167e+18  -9.8599e+21 +9.9599e+19
+049.9944 +1.0250e-05 -5.5934e-07  +3.4428e-03 +5.0936e-03  -1.1280e+02 -5.5033e-02  -1.9947e+00 -5.7182e-01  -2.0443e+02 +7.2495e+01  -8.7498e+02 +4.3851e+02  -4.4505e+05 -4.5649e+04  -7.4867e+06 -9.4570e+06  +7.2418e+10 -3.4710e+09  +5.6983e+09 -9.3752e+09  +2.2239e+12 +2.0315e+12  +5.5367e+13 -2.2373e+13  +2.4575e+16 -2.4065e+16  +3.2944e+18 +5.0938e+18  -1.6556e+22 +2.1155e+20
+069.9951 +1.2017e-05 -2.2407e-06  +4.7861e-03 +7.1211e-03  -1.5807e+02 -7.2315e-02  -2.9729e+00 -7.9429e-01  -2.8637e+02 +1.0848e+02  -1.3136e+03 +5.0172e+02  -6.1653e+05 -8.5337e+04  -1.2086e+07 -1.4766e+07  +1.0126e+11 -5.8027e+09  +5.1713e+09 -2.9599e+10  +2.3429e+12 +2.5466e+12  +1.8359e+14 -6.1525e+13  +3.0097e+16 -2.6229e+16  +4.8200e+18 +7.5085e+18  -2.3232e+22 +3.9913e+20
+089.9981 +1.4351e-05 -4.1074e-06  +6.1012e-03 +9.0844e-03  -2.0312e+02 -8.6601e-02  -3.9502e+00 -8.8358e-01  -3.6404e+02 +1.4778e+02  -1.7054e+03 +5.5393e+02  -7.7960e+05 -1.1084e+05  -1.2303e+07 -1.8887e+07  +1.3042e+11 -8.5690e+09  +1.3631e+10 -2.2733e+10  +3.1622e+12 +1.6550e+12  +1.2709e+14 +1.5000e+12  +3.3043e+16 -3.3144e+16  +6.3631e+18 +9.0486e+18  -2.9993e+22 +5.9696e+20
+109.9962 +1.7689e-05 -6.0376e-06  +7.3961e-03 +1.0944e-02  -2.4743e+02 -9.6797e-02  -4.8868e+00 -7.2760e-01  -4.2358e+02 +1.8740e+02  -2.2218e+03 +7.4667e+02  -9.4577e+05 -1.5507e+05  -1.4045e+07 -2.2388e+07  +1.5945e+11 -1.1893e+10  +1.5850e+09 -3.4068e+10  +2.2717e+12 +1.9406e+12  +1.8848e+14 -2.5200e+12  +4.7709e+16 -3.5170e+16  +6.9710e+18 +1.1265e+19  -3.6515e+22 +6.4526e+20
+129.9960 +2.1366e-05 -7.7978e-06  +8.6526e-03 +1.2706e-02  -2.9053e+02 -1.0435e-01  -5.7945e+00 -4.1162e-01  -4.7671e+02 +2.2077e+02  -2.3601e+03 +1.0607e+03  -1.0974e+06 -1.5824e+05  -1.9454e+07 -2.8492e+07  +1.8884e+11 -1.5106e+10  +2.9127e+10 -5.2365e+10  +3.2515e+12 +6.2342e+11  +2.5136e+14 -8.3761e+13  +5.8273e+16 -5.3384e+16  +7.8132e+18 +1.3440e+19  -4.3194e+22 +5.4524e+20
+149.9974 +2.3360e-05 -8.4754e-06  +9.8701e-03 +1.4317e-02  -3.3090e+02 -1.0710e-01  -6.4222e+00 +5.6336e-02  -5.4847e+02 +2.3432e+02  -2.2922e+03 +1.3461e+03  -1.2219e+06 -1.2687e+05  -2.1184e+07 -2.9810e+07  +2.1674e+11 -1.9190e+10  -1.6509e+10 -7.8399e+10  +3.3762e+12 +2.8298e+12  +4.5612e+14 -7.2241e+13  +5.5332e+16 -7.2048e+16  +8.8167e+18 +1.4188e+19  -4.9379e+22 +4.9839e+20
+167.7978 +2.2984e-05 -8.6855e-06  +1.0841e-02 +1.5612e-02  -3.6014e+02 -1.0647e-01  -6.4795e+00 -1.5661e-01  -6.2415e+02 +2.3573e+02  -2.3144e+03 +1.3603e+03  -1.3236e+06 -1.8832e+05  -2.8912e+07 -3.4004e+07  +2.3710e+11 -2.2579e+10  -2.0716e+10 -9.7048e+10  +2.8964e+12 +5.6948e+12  +4.0604e+14 -2.1156e+13  +5.6923e+16 -6.6608e+16  +1.2039e+19 +1.4573e+19  -5.3951e+22 +3.9128e+20
+180.0000 +2.1556e-05 -8.6157e-06  +1.1444e-02 +1.6423e-02  -3.7655e+02 -1.0437e-01  -6.2458e+00 -6.4502e-01  -6.8245e+02 +2.3091e+02  -2.3746e+03 +1.2396e+03  -1.3884e+06 -2.7907e+05  -3.7575e+07 -3.8523e+07  +2.4863e+11 -2.4768e+10  -3.7921e+09 -1.0737e+11  +2.2461e+12 +8.1493e+12  +2.4533e+14 +3.6079e+13  +6.0302e+16 -5.0883e+16  +1.5515e+19 +1.4684e+19  -5.6578e+22 +2.8227e+20

# COMMENTS
# ========
# 1. generated automatically with "excdata.py"
# 2. data taken from rotcoil measurements
# 3. data for zero current is extrapolated from data points with lowest measured currents
# 4. average excitation curves for magnets:
#    S15-278 S15-246 S15-276 S15-009 S15-015 S15-279 S15-033 S15-016 S15-010 S15-172
# 5. last data point was extrapolated from a quadratic fitting using last 3 points.
# 6. rescaling factor based on new measurements compared to previous ones
#    === S15 ===
#    Family          Current[A] GL2020[T/m] GL2019[T/m] Diff[%]
#    SI-Fam:PS-SFA0   034.98     -79.16832   -78.79904  +0.469
#    SI-Fam:PS-SFB0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFP0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFA2   100.28    -226.93267  -226.12582  +0.357
#    SI-Fam:PS-SFA1   128.48    -288.11642  -287.21829  +0.313
#    SI-Fam:PS-SFB2   132.81    -297.45731  -296.61973  +0.282
#    SI-Fam:PS-SFP2   133.33    -298.58556  -297.76223  +0.277
#    SI-Fam:PS-SFB1   155.22    -344.48435  -351.10163  -1.885
#    SI-Fam:PS-SFP1   156.53    -346.61199  -354.72640  -2.288
#    SI-Fam:PS-SDB0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDP0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDA0   053.72    -121.71106  -121.21016  +0.413
#    SI-Fam:PS-SDA2   059.29    -134.38117  -133.83979  +0.404
#    SI-Fam:PS-SDB2   081.57    -184.93776  -184.24588  +0.376
#    SI-Fam:PS-SDP2   081.55    -184.89068  -184.19894  +0.376
#    SI-Fam:PS-SDA3   093.40    -211.57649  -210.80689  +0.365
#    SI-Fam:PS-SDB1   094.58    -214.22775  -213.45115  +0.364
#    SI-Fam:PS-SDP1   095.00    -215.17967  -214.40061  +0.363
#    SI-Fam:PS-SDA1   109.04    -246.21948  -245.37664  +0.343
#    SI-Fam:PS-SDB3   116.56    -262.52284  -261.65091  +0.333
#    SI-Fam:PS-SDP3   116.79    -263.03286  -262.15994  +0.333
# 7. average of +0.373% of sextupoles families was used (SFB1 and SFP1 ignored)


# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
