# HEADER
# ======
# label             si-sextupole-s15-sfp2-fam
# harmonics         0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
# main_harmonic     2 normal
# rescaling_factor  1.00277
# units             Ampere  T*m T*m  T T  T/m T/m  T/m^2 T/m^2  T/m^3 T/m^3  T/m^4 T/m^4  T/m^5 T/m^5  T/m^6 T/m^6  T/m^7 T/m^7  T/m^8 T/m^8  T/m^9 T/m^9  T/m^10 T/m^10  T/m^11 T/m^11  T/m^12 T/m^12  T/m^13 T/m^13

# EXCITATION DATA
# ===============
+000.0000 +6.3099e-06 +5.3523e-06  -9.9504e-05 +3.4007e-05  -2.3539e+00 -1.2353e-03  -6.9183e-01 +3.6173e-01  +3.6503e+00 -4.3211e+01  +2.1520e+02 +1.2962e+02  -1.1706e+04 +2.4983e+04  -1.3322e+06 +4.0187e+05  -5.9018e+08 -2.3616e+08  +2.6469e+08 -2.4612e+08  +6.1563e+11 +1.0979e+12  -2.5982e+13 -1.2527e+14  -2.4236e+15 -5.9704e+15  +3.4443e+17 -3.0432e+17  -3.1810e+20 -1.4389e+19
+001.9956 +6.3851e-06 +4.7388e-06  +4.4343e-05 +2.6041e-04  -6.4984e+00 -1.9030e-03  -6.3424e-01 +2.9962e-01  -6.8395e+00 -3.8431e+01  +4.3694e+02 +1.3501e+02  -2.8050e+04 +3.4605e+04  -1.8054e+06 -3.9875e+05  +2.1964e+09 -3.4339e+08  +4.1204e+09 -5.6797e+09  +4.2921e+11 +1.3078e+12  +3.0826e+12 -7.1890e+13  -8.7716e+14 -5.0396e+15  +2.9700e+17 +9.5842e+16  -8.8833e+20 +2.6052e+19
+003.9979 +6.4605e-06 +4.1233e-06  +1.8867e-04 +4.8758e-04  -1.0657e+01 -2.5731e-03  -5.7646e-01 +2.3730e-01  -1.7365e+01 -3.3636e+01  +6.5942e+02 +1.4042e+02  -4.4448e+04 +4.4259e+04  -2.2800e+06 -1.2021e+06  +4.9924e+09 -4.5098e+08  +7.9891e+09 -1.1132e+10  +2.4216e+11 +1.5184e+12  +3.2245e+13 -1.8335e+13  +6.7444e+14 -4.1057e+15  +2.4942e+17 +4.9735e+17  -1.4605e+21 +6.6628e+19
+005.9974 +6.5399e-06 +3.6880e-06  +3.3052e-04 +7.2051e-04  -1.4862e+01 -3.0394e-03  -5.2946e-01 +1.6185e-01  -2.7740e+01 -3.0781e+01  +8.5130e+02 +7.6680e+01  -6.9234e+04 +6.1497e+04  -1.2310e+06 -2.3450e+06  +7.9581e+09 -6.3756e+08  +1.1584e+10 -4.8772e+09  +5.8639e+11 +6.7796e+11  +9.8814e+12 +3.8109e+13  -7.2789e+14 -3.2324e+15  +5.9619e+17 +5.2805e+17  -2.0911e+21 +7.2734e+19
+007.9963 +6.6432e-06 +3.2384e-06  +4.7348e-04 +9.5545e-04  -1.9109e+01 -3.9236e-03  -4.9754e-01 +6.8931e-02  -3.6055e+01 -2.9698e+01  +1.0555e+03 +2.5080e+02  -9.6792e+04 +4.7261e+04  -2.1935e+06 -2.4071e+06  +1.1000e+10 -8.3238e+08  +1.5448e+09 -8.7114e+09  +9.8141e+11 +7.6067e+11  +9.9272e+12 +1.5186e+13  -3.4091e+15 -9.2361e+15  +5.9693e+17 +1.1913e+18  -2.6962e+21 +1.1408e+20
+009.9964 +6.7078e-06 +2.8680e-06  +6.1230e-04 +1.1939e-03  -2.3393e+01 -4.5877e-03  -4.8545e-01 -1.9466e-02  -4.8616e+01 -2.8095e+01  +1.3046e+03 +7.4490e+01  -9.4096e+04 +6.6782e+04  -1.9125e+06 -1.9306e+06  +1.3873e+10 -1.0425e+09  -4.2506e+09 -1.2643e+10  +2.4682e+11 +1.0667e+12  +1.3479e+13 +7.6302e+13  +3.8744e+15 -8.7669e+15  +1.0591e+18 +1.1775e+18  -3.2878e+21 +1.0129e+20
+029.9957 +7.7976e-06 +1.1191e-06  +1.9861e-03 +3.6213e-03  -6.7459e+01 -1.0669e-02  -4.6946e-01 -8.4203e-01  -1.5663e+02 -4.6818e+01  +3.7979e+03 +5.1476e+01  -3.1736e+05 +1.6846e+05  -5.3966e+06 -6.2642e+06  +4.3232e+10 -3.1731e+09  +1.0122e+09 -6.6130e+09  +1.7840e+12 +1.4446e+12  +3.1937e+13 -3.8901e+13  +8.8349e+15 -1.2225e+16  +1.6343e+18 +3.1382e+18  -9.6408e+21 +2.9942e+20
+049.9946 +9.2831e-06 +9.7092e-07  +3.2989e-03 +6.0459e-03  -1.1248e+02 -1.4077e-02  -8.6533e-01 -1.4864e+00  -2.6455e+02 -8.6833e+01  +6.1711e+03 +3.5223e+02  -5.4623e+05 +2.7857e+05  -7.3388e+06 -1.0480e+07  +7.1461e+10 -5.8841e+09  +1.5403e+09 -5.2059e+09  +2.9218e+12 +1.7831e+12  +2.3557e+13 -9.5409e+12  +1.8849e+16 -2.5019e+16  +3.1217e+18 +5.8597e+18  -1.6106e+22 +6.0189e+20
+069.9954 +1.1181e-05 +8.2578e-07  +4.5804e-03 +8.4030e-03  -1.5763e+02 -1.4118e-02  -1.4147e+00 -1.8968e+00  -3.6793e+02 -1.2824e+02  +8.7926e+03 +2.5304e+02  -7.7420e+05 +4.0696e+05  -1.2428e+07 -1.2847e+07  +1.0019e+11 -9.0340e+09  -4.5693e+09 -5.9113e+09  +3.0716e+12 +2.8507e+12  -3.4023e+13 +1.0772e+14  +3.3826e+16 -2.3758e+16  +5.0863e+18 +7.7679e+18  -2.2846e+22 +9.2879e+20
+089.9983 +1.3494e-05 +4.8543e-07  +5.8039e-03 +1.0687e-02  -2.0258e+02 -1.1613e-02  -2.0828e+00 -2.2462e+00  -4.6657e+02 -1.6402e+02  +1.1044e+04 +4.6590e+02  -9.9310e+05 +5.1218e+05  -1.3266e+07 -1.7607e+07  +1.2904e+11 -1.2576e+10  +1.6972e+09 +1.5746e+09  +4.0389e+12 +3.8043e+12  -6.9925e+13 +9.8436e+13  +3.6305e+16 -3.1441e+16  +4.7976e+18 +9.4875e+18  -2.9422e+22 +1.0884e+21
+109.9964 +1.6132e-05 -9.0071e-07  +6.9725e-03 +1.2875e-02  -2.4686e+02 -4.3972e-03  -2.8779e+00 -2.2630e+00  -5.5795e+02 -1.7907e+02  +1.3003e+04 +8.2148e+02  -1.2229e+06 +5.9237e+05  -1.8902e+07 -2.7067e+07  +1.5787e+11 -1.6814e+10  -4.8360e+09 -1.1449e+10  +1.2383e+12 +3.6737e+12  -5.9941e+13 +1.5947e+14  +4.9774e+16 -3.5108e+16  +6.9876e+18 +1.2234e+19  -3.5980e+22 +1.1525e+21
+129.9958 +1.9009e-05 -3.6951e-06  +8.1172e-03 +1.4943e-02  -2.8996e+02 +9.7996e-03  -3.6390e+00 -2.2295e+00  -6.5365e+02 -1.7410e+02  +1.5840e+04 +1.2776e+03  -1.4395e+06 +6.7791e+05  -2.6640e+07 -3.0665e+07  +1.8742e+11 -2.2425e+10  -2.2037e+10 +8.2064e+08  +6.4586e+12 +3.4701e+12  -2.9953e+13 +9.4920e+13  +6.3903e+16 -6.2468e+16  +7.2543e+18 +1.1751e+19  -4.2355e+22 +1.1751e+21
+149.9968 +2.2728e-05 -8.3742e-06  +9.1582e-03 +1.6790e-02  -3.3039e+02 +2.1161e-02  -4.4771e+00 -1.9895e+00  -7.2131e+02 -1.3007e+02  +1.7927e+04 +8.1095e+02  -1.5980e+06 +6.8923e+05  -3.1061e+07 -3.9434e+07  +2.1492e+11 -2.6019e+10  -7.7811e+09 -1.7914e+09  +4.2917e+12 +4.6488e+12  -6.5795e+13 +2.1451e+14  +5.7317e+16 -4.8060e+16  +7.0962e+18 +1.5272e+19  -4.7956e+22 +8.9253e+20
+167.7979 +2.8011e-05 -9.0900e-06  +9.7815e-03 +1.8133e-02  -3.5962e+02 +2.9761e-02  -5.5828e+00 -1.7877e+00  -7.2980e+02 -1.4076e+02  +1.9830e+04 +8.8770e+02  -1.6932e+06 +7.3098e+05  -2.5635e+07 -3.6717e+07  +2.3449e+11 -2.8760e+10  +4.8648e+09 +9.8335e+09  +4.1282e+12 +4.8437e+12  -2.3134e+14 +3.3211e+14  +4.5431e+16 -5.4113e+16  +5.9053e+18 +1.5362e+19  -5.2279e+22 +8.2653e+20
+180.0000 +3.2707e-05 -7.7044e-06  +1.0044e-02 +1.8890e-02  -3.7598e+02 +3.4834e-02  -6.5366e+00 -1.6559e+00  -7.0747e+02 -1.7523e+02  +2.1159e+04 +1.2080e+03  -1.7334e+06 +7.7682e+05  -1.6822e+07 -2.9130e+07  +2.4524e+11 -3.0391e+10  +1.3510e+10 +2.5391e+10  +4.9764e+12 +4.5127e+12  -4.1753e+14 +4.1880e+14  +3.4007e+16 -6.8532e+16  +4.5175e+18 +1.3768e+19  -5.4882e+22 +8.8221e+20

# COMMENTS
# ========
# 1. generated automatically with "excdata.py"
# 2. data taken from rotcoil measurements
# 3. data for zero current is extrapolated from data points with lowest measured currents
# 4. average excitation curves for magnets:
#    S15-062 S15-049 S15-194 S15-064 S15-237 S15-127 S15-057 S15-173 S15-089 S15-054
# 5. last data point was extrapolated from a quadratic fitting using last 3 points.
# 6. rescaling factor based on new measurements compared to previous ones
#    === S15 ===
#    Family          Current[A] GL2020[T/m] GL2019[T/m] Diff[%]
#    SI-Fam:PS-SFA0   034.98     -79.16832   -78.79904  +0.469
#    SI-Fam:PS-SFB0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFP0   049.05    -111.06953  -110.60355  +0.421
#    SI-Fam:PS-SFA2   100.28    -226.93267  -226.12582  +0.357
#    SI-Fam:PS-SFA1   128.48    -288.11642  -287.21829  +0.313
#    SI-Fam:PS-SFB2   132.81    -297.45731  -296.61973  +0.282
#    SI-Fam:PS-SFP2   133.33    -298.58556  -297.76223  +0.277
#    SI-Fam:PS-SFB1   155.22    -344.48435  -351.10163  -1.885
#    SI-Fam:PS-SFP1   156.53    -346.61199  -354.72640  -2.288
#    SI-Fam:PS-SDB0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDP0   043.18     -97.72405   -97.30107  +0.435
#    SI-Fam:PS-SDA0   053.72    -121.71106  -121.21016  +0.413
#    SI-Fam:PS-SDA2   059.29    -134.38117  -133.83979  +0.404
#    SI-Fam:PS-SDB2   081.57    -184.93776  -184.24588  +0.376
#    SI-Fam:PS-SDP2   081.55    -184.89068  -184.19894  +0.376
#    SI-Fam:PS-SDA3   093.40    -211.57649  -210.80689  +0.365
#    SI-Fam:PS-SDB1   094.58    -214.22775  -213.45115  +0.364
#    SI-Fam:PS-SDP1   095.00    -215.17967  -214.40061  +0.363
#    SI-Fam:PS-SDA1   109.04    -246.21948  -245.37664  +0.343
#    SI-Fam:PS-SDB3   116.56    -262.52284  -261.65091  +0.333
#    SI-Fam:PS-SDP3   116.79    -263.03286  -262.15994  +0.333

# POLARITY TABLE
# ==============
#
# Magnet function         | IntStrength(1) | IntField(2) | ConvSign(3) | Current(4)
# ------------------------|----------------|-------------|-------------|-----------
# dipole                  | Angle > 0      | BYL  < 0    | -1.0        | I > 0
# corrector-horizontal    | HKick > 0      | BYL  > 0    | +1.0        | I > 0
# corrector-vertical      | VKick > 0      | BXL  < 0    | -1.0        | I > 0
# quadrupole (focusing)   | KL    > 0      | D1NL < 0    | -1.0        | I > 0
# quadrupole (defocusing) | KL    < 0      | D1NL > 0    | -1.0        | I > 0
# quadrupole (skew)       | KL    < 0      | D1SL > 0    | -1.0        | I > 0
# sextupole  (focusing)   | SL    > 0      | D2NL < 0    | -1.0        | I > 0
# sextupole  (defocusing) | SL    < 0      | D2NL > 0    | -1.0        | I > 0
#
# Defs:
# ----
# BYL   := \int{dz By|_{x=y=0}}.
# BXL   := \int{dz Bx|_{x=y=0}}.
# D1NL  := \int{dz \frac{dBy}{dx}_{x=y=0}}
# D2NL  := (1/2!) \int{dz \frac{d^2By}{dx^2}_{x=y=0}}
# D1SL  := \int{dz \frac{dBx}{dx}_{x=y=0}}
# Brho  := magnetic rigidity.
# Angle := ConvSign * BYL / abs(Brho)
# HKick := ConvSign * BYL / abs(Brho)
# VKick := ConvSign * BXL / abs(Brho)
# KL    := ConvSign * D1NL / abs(Brho)
# KL    := ConvSign * D1SL / abs(Brho)
# SL    := ConvSign * D2NL / abs(Brho)
#
# Obs:
# ---
# (1) Parameter definition.
#     IntStrength values correspond to integrated PolynomA and PolynomB parameters
#     of usual beam tracking codes, with the exception that VKick has its sign
#     reversed with respecto to its corresponding value in PolynomA.
# (2) Sirius coordinate system and Lorentz force.
# (3) Conversion sign for IntField <-> IntStrength
# (4) Convention of magnet excitation polarity, so that when I > 0 the strength
#     of the magnet has the expected conventional sign.

# STATIC DATA FILE FORMAT
# =======================
#
# These static data files should comply with the following formatting rules:
# 1. If the first alphanumeric character of the line is not the pound sign
#    then the lines is a comment.
# 2. If the first alphanumeric character is "#" then if
#    a) it is followed by "[<parameter>] <value>" a parameter names <parameter>
#       is define with value <value>. if the string <value> has spaces in it
#       it is split as a list of strings.
#    b) otherwise the line is ignored as a comment line.
